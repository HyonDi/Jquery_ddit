<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" href="../CSS/mystyle.css";>
	
	
	<script type="text/javascript">
		function proc1() {
			input = prompt("주민등록번호를 입력해주세요.","000000-0000000");
			
			year = input.substring(0,2);
			month = input.substring(2,4);
			day = input.substring(4,6);
			a = input.substring(7,8); //성별
			
			res = "입력 : " + input + "<br>";
			res += "<strong>" + "생일 : " + "</strong>";
			if(a>=3){
				res+=20
				ayear="20" + year;
			}else if(a<=2){
				res+=19
				ayear="19" + year;
			}else{
				res +=00
			}
			
			date = new Date();
			
			age = date.getFullYear() - parseInt(ayear);
			
			
			
			res += year + "년 " + month + "월 " + day + "일." + "<br>";
			res += "<strong>" + "성별 : " + "</strong>";
			if( a==1 || a==3 ){
				res += "남자. " + " ";
			} else if(a==2 || a==4){
				res += "여자. " + " ";
			} else{
				res +="확인 불가";
			}

			res += " " + "<strong>" + " 나이 : " + "</strong>";
			res += age + "세.";
				
			document.getElementById('result1').innerHTML = res;	
			
		}
		
		function proc2(){
			input = prompt("주민등록번호를 입력해주세요.","012345-6789123");
 			sum = 0;
			
			res = "입력 : " + input; 
			
			for(i = 0; i<=8;i++){
				//여기 인덱스번호 5번까지 이거고(-:6) 7번부터는 +1곱해야해
				if(i=6){
					continue;
				}
				if(i>=7){
					sum += input.charAt(i)*(i+1);
				}
				
				if(i<=5){
					sum += input.charAt(i)*(i+2);
				}
			}

/* 			for(i = 9; i<=12; i ++){
				
				sum += input.charAt(i)*(i-7);
			} */
			
			result = sum%11;
			result = 11-result;
			
			if(0<=result && result<=9){
				a = result;
			}else if(result == 10){
				a = 0;
			}else if(result == 11){
				a = 1;
			}
			
			if(a == input.charAt(13)){
				alert("확인");
			}else{
				alert("실패");
			} 
			
			document.getElementById('result2').innerHTML = res;
			
			
			/*
			//선생님답안
			
			input = prompt("주민등록번호를 입력해주세요.","000000-000000");
			
			su = "234567892345";
			
			aa = input.split("-"); //배열 리턴
			// aa[0] = "110326", avalue[1] = "4123456"
			
			avalue = aa[0].concat(aa[1]);
			//avalue = "1103264123456"
			sum =0;
			
 			 for(i=0; i < su.length; i++){
				sum += avalue.substr(i,1)*su.substr(i,1);
			}
			  

			 
			rvalue = 11 - sum % 11;
			//if(ravalue == 10) ravalue = 0;
			//else if(rvalue == 11) rvalue = 1; 
			rvalue = rvalue % 10;
			
			res = "";
			res += "입력 : " + aa[0] + "-" + aa[1].slice(0,1)+ "******" + "<br>";
			
			
			if(avalue.substr(12,1) == rvalue){
				res += "정상 처리 되었습니다.";
			}else{
				res += "입력오류 입니다."
			}
			
			document.getElementById('result2').innerHTML = res;
			*/
			
		}
	
	
	</script>
	

</head>
<body>

	<div class="box">
		<h2> 문제 1</h2>
		<pre>
		
	주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.(입력은 prompt로 입력받는다.)
	
	예) 주민등록번호를 110326-4432618로 입력 받은 경우
	생일 : 2011년 3월 26일
	성별 : 여자  나이: 

		</pre>
		<button onclick="proc1()" type="button">실행</button>
		<br>
		<div id="result1"></div>
	</div>
	
	
	
		<div class="box">
		<h2> 문제 2</h2>
		<pre>
				
		주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)
		
		A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.
		1번의 합을 11로 나눈 나머지를 구한다.
		11에서 2번의 결과를 뺀다.
		3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환
		4번의 결과와 M자리의 값이 같으면 맞는 번호이다.
		
		</pre>
		<button onclick="proc2()" type="button">실행</button>
		<br>
		<div id="result2"></div>
	</div>
</body>
</html>